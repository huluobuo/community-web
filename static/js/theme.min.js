// 简化版主题切换功能 - 压缩版
function getCookie(e){const t=`; ${document.cookie}`,o=t.split(`; ${e}=`);return 2===o.length?o.pop().split(';').shift():void 0}function setCookie(e,t,o=30){const n=new Date;n.setTime(n.getTime()+o*864e5),document.cookie=`${e}=${t};expires=${n.toUTCString()};path=/`}document.addEventListener('DOMContentLoaded',function(){console.log('主题脚本加载完成');const cookieTheme=getCookie('theme'),savedTheme=localStorage.getItem('theme'),body=document.body,themeToggle=document.getElementById('theme-toggle');console.log('主题切换按钮:',themeToggle);const prefersDarkMode=window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches;function enableDarkMode(){console.log('启用暗色模式'),body.classList.add('dark-mode'),body.classList.remove('bg-light');const navbar=document.querySelector('.navbar');navbar&&(navbar.classList.remove('bg-primary'),navbar.classList.add('bg-dark'));const cards=document.querySelectorAll('.card, .message, .jumbotron');cards.forEach(e=>{e.classList.contains('bg-white')&&(e.classList.remove('bg-white'),e.classList.add('bg-dark','text-white','border','border-gray-700'))});const footer=document.querySelector('footer');footer&&(footer.classList.add('bg-dark'),footer.classList.remove('bg-gray-800')),themeToggle&&((e=themeToggle.querySelector('i'))&&(e.classList.remove('fa-moon'),e.classList.add('fa-sun'))),localStorage.setItem('theme','dark'),setCookie('theme','dark'),document.documentElement.setAttribute('data-theme','dark');var e}function enableLightMode(){console.log('启用亮色模式'),body.classList.remove('dark-mode'),body.classList.add('bg-light');const navbar=document.querySelector('.navbar');navbar&&(navbar.classList.add('bg-primary'),navbar.classList.remove('bg-dark'));const cards=document.querySelectorAll('.card, .message, .jumbotron');cards.forEach(e=>{e.classList.contains('bg-dark')&&(e.classList.add('bg-white'),e.classList.remove('bg-dark','text-white','border','border-gray-700'))});const footer=document.querySelector('footer');footer&&(footer.classList.remove('bg-dark'),footer.classList.add('bg-gray-800')),themeToggle&&((e=themeToggle.querySelector('i'))&&(e.classList.add('fa-moon'),e.classList.remove('fa-sun'))),localStorage.setItem('theme','light'),setCookie('theme','light'),document.documentElement.setAttribute('data-theme','light');var e}'dark'===cookieTheme||void 0===cookieTheme&&'dark'===savedTheme||!cookieTheme&&!savedTheme&&prefersDarkMode?enableDarkMode():enableLightMode(),themeToggle?(console.log('添加主题切换事件监听'),themeToggle.addEventListener('click',function(e){e.preventDefault(),e.stopPropagation(),console.log('主题切换按钮被点击!'),body.classList.contains('dark-mode')?enableLightMode():enableDarkMode()})):console.log('未找到主题切换按钮')});